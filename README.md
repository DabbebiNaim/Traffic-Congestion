# Real-Time Traffic Congestion Analysis

![Python Version](https://img.shields.io/badge/Python-3.9+-blue.svg)

This repository contains the work from my internship project focused on analyzing traffic congestion from video feeds using computer vision and deep learning techniques. The project explores four distinct methodologies, ranging from semi-automatic calibrated systems to fully automatic solutions, to classify traffic flow as Light, Medium, or High.

---

## Methodologies Explored

This project implements and evaluates four different approaches to traffic analysis. Each script represents a complete, standalone solution.

### 1. Semi-Automatic Analysis via Average Speed (`main2.py`)
This method calculates the real-world speed of vehicles in km/h. It requires a one-time manual calibration where the user defines a measurement zone on the road and provides its real-world dimensions. This approach offers high precision by correcting for perspective distortion.

**Features:**
- Vehicle tracking with persistent IDs.
- Manual perspective calibration for accuracy.
- Real-time speed calculation (km/h) for each vehicle.
- Directional analysis ("Going" vs. "Coming").
- Interactive video player with seek bar and pause/play.

### 2. Semi-Automatic Analysis via Road Density (`density_main2.py`)
This method measures road occupancy, which is the percentage of the road surface covered by vehicles. It is highly effective for detecting dense, slow-moving, or stopped traffic. It requires the user to manually draw one or more analysis zones.

**Features:**
- Vehicle tracking with persistent IDs.
- Manual definition of multiple, independent analysis zones.
- Real-time density calculation (%) for each zone.
- Classification based on occupancy thresholds.
- Interactive video player.

### 3. Fully Automatic Analysis via Motion Heatmap (`heatmap3.py`)
This solution provides a fully automatic, qualitative analysis of traffic flow. It requires no manual calibration. A heatmap is generated by accumulating vehicle detections over time, with a decay factor that causes the map to fade. This is excellent for quickly identifying traffic hotspots and bottlenecks.

**Features:**
- Fully automatic, no calibration needed.
- Generates a dynamic heatmap overlay.
- Uses a "Heat Score" to classify overall traffic state.
- Temporal and spatial smoothing for a clean visual output.

### 4. Fully Automatic Analysis via Calibrated Speed (`by_distance.py`)
This is the most innovative solution, offering a fully automatic way to calculate real-world speed. It uses a "car as a ruler" approach to self-calibrate the scene's scale by detecting a car, assuming its average real-world width, and calculating a `pixels-per-meter` ratio.

**Features:**
- Fully automatic, calibration-free speed calculation.
- "Car as a ruler" method for determining image scale.
- Robust median-based calibration to avoid outliers.
- A final `CALIBRATION_FACTOR` for fine-tuning accuracy.
- Real-time speed calculation and congestion classification.

---

## Key Challenges Faced

During development, several key challenges were addressed:
- **Perspective Distortion:** Solved by implementing a manual perspective transform (Solution 1) and later an automatic scaling method (Solution 4).
- **Calibration Accuracy:** The auto-calibration method was initially vulnerable to outliers (e.g., merged bounding boxes). This was solved by using a more robust statistical measure (the median) and filtering candidate vehicles.
- **Systematic Errors:** The auto-speed detector showed consistent but inaccurate results. This was solved by introducing a data-driven `CALIBRATION_FACTOR` to align the system's estimate with ground truth.

---

## Setup and Installation

Follow these steps to set up and run the project.

**1. Clone the repository:**
```bash
git clone https://github.com/your-username/your-repo-name.git
cd your-repo-name
